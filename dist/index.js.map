{"version":3,"file":"index.js","names":["versionInfo","UI","solidLogicSingleton","store","OutlineManager","registerPanes","list","paneForIcon","paneForPredicate","register","byName","createContext","initMainPage","getOutliner","dom","outlineManager","context","window","document","cjsOrEsModule","default","panes"],"sources":["../src/index.ts"],"sourcesContent":["/*                            SOLID PANES\n **\n **     Panes are regions of the outline view in which a particular subject is\n ** displayed in a particular way.\n ** Different panes about the same subject are typically stacked vertically.\n ** Panes may be used naked or with a pane selection header.\n **\n ** The label() method has two functions: it determines whether the pane is\n ** relevant to a given subject, returning null if not.\n ** If it is relevant, then it returns a suitable tooltip for a control which selects the pane\n */\n\nimport versionInfo from './versionInfo'\nimport * as UI from 'solid-ui-jss'\nimport { LiveStore } from 'rdflib'\nimport { solidLogicSingleton, store } from 'solid-logic-jss'\nimport OutlineManager from './outline/manager.js'\nimport { registerPanes } from './registerPanes.js'\nimport {\n  list,\n  paneForIcon,\n  paneForPredicate,\n  register,\n  byName\n} from 'pane-registry'\nimport { createContext } from './outline/context'\nimport initMainPage from './mainPage'\n\nfunction getOutliner (dom) {\n  if (!dom.outlineManager) {\n    const context = createContext(\n      dom,\n      { list, paneForIcon, paneForPredicate, register, byName },\n      store as LiveStore,\n      solidLogicSingleton\n    )\n    dom.outlineManager = new OutlineManager(context)\n  }\n  return dom.outlineManager\n}\n\nif (typeof window !== 'undefined') {\n  getOutliner(window.document)\n}\n\nregisterPanes((cjsOrEsModule: any) => register(cjsOrEsModule.default || cjsOrEsModule))\n\n// This has common outline mode functionality for the default and other other panes\n// A separate outline manager is required per DOM in cases like a browser extension\n// where there are many occurrences of window and of window.document\n// But each DOM should have just one outline manager.\n\nexport {\n  OutlineManager,\n  getOutliner,\n  UI,\n  versionInfo,\n  initMainPage,\n  list, // from paneRegistry\n  paneForIcon, // from paneRegistry\n  paneForPredicate, // from paneRegistry\n  register, // from paneRegistry\n  byName // from paneRegistry\n}\n\n// export for simpler access by non-node scripts\nif (typeof window !== 'undefined') {\n  ;(<any>window).panes = {\n    getOutliner\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,WAAW,MAAM,eAAe;AACvC,OAAO,KAAKC,EAAE,MAAM,cAAc;AAElC,SAASC,mBAAmB,EAAEC,KAAK,QAAQ,iBAAiB;AAC5D,OAAOC,cAAc,MAAM,sBAAsB;AACjD,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SACEC,IAAI,EACJC,WAAW,EACXC,gBAAgB,EAChBC,QAAQ,EACRC,MAAM,QACD,eAAe;AACtB,SAASC,aAAa,QAAQ,mBAAmB;AACjD,OAAOC,YAAY,MAAM,YAAY;AAErC,SAASC,WAAWA,CAAEC,GAAG,EAAE;EACzB,IAAI,CAACA,GAAG,CAACC,cAAc,EAAE;IACvB,MAAMC,OAAO,GAAGL,aAAa,CAC3BG,GAAG,EACH;MAAER,IAAI;MAAEC,WAAW;MAAEC,gBAAgB;MAAEC,QAAQ;MAAEC;IAAO,CAAC,EACzDP,KAAK,EACLD,mBACF,CAAC;IACDY,GAAG,CAACC,cAAc,GAAG,IAAIX,cAAc,CAACY,OAAO,CAAC;EAClD;EACA,OAAOF,GAAG,CAACC,cAAc;AAC3B;AAEA,IAAI,OAAOE,MAAM,KAAK,WAAW,EAAE;EACjCJ,WAAW,CAACI,MAAM,CAACC,QAAQ,CAAC;AAC9B;AAEAb,aAAa,CAAEc,aAAkB,IAAKV,QAAQ,CAACU,aAAa,CAACC,OAAO,IAAID,aAAa,CAAC,CAAC;;AAEvF;AACA;AACA;AACA;;AAEA,SACEf,cAAc,EACdS,WAAW,EACXZ,EAAE,EACFD,WAAW,EACXY,YAAY,EACZN,IAAI;AAAE;AACNC,WAAW;AAAE;AACbC,gBAAgB;AAAE;AAClBC,QAAQ;AAAE;AACVC,MAAM,CAAC;AAAA;;AAGT;AACA,IAAI,OAAOO,MAAM,KAAK,WAAW,EAAE;EACjC;EAAOA,MAAM,CAAEI,KAAK,GAAG;IACrBR;EACF,CAAC;AACH","ignoreList":[]}