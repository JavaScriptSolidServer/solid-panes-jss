{"version":3,"file":"sharingPane.js","names":["_solidUiJss","require","sharingPane","icon","icons","iconBase","name","label","subject","context","store","session","t","findTypeURIs","ns","ldp","uri","render","dom","noun","getNoun","div","createElement","classList","add","aclControl","preventBrowserDropEvents","appendChild","ACLControlBox5","_default","exports","default"],"sources":["../../src/sharing/sharingPane.ts"],"sourcesContent":["/*   Sharing Pane\n **\n ** This outline pane allows a user to view and adjust the sharing -- access control lists\n ** for anything which has that capability.\n **\n ** I am using in places single quotes strings like 'this'\n ** where internationalization (\"i18n\") is not a problem, and double quoted\n ** like \"this\" where the string is seen by the user and so I18n is an issue.\n */\n\nimport { aclControl, icons, ns } from 'solid-ui-jss'\n\nconst sharingPane = {\n  icon: icons.iconBase + 'padlock-timbl.svg',\n\n  name: 'sharing',\n\n  label: (subject, context) => {\n    const store = context.session.store\n    const t = store.findTypeURIs(subject)\n    if (t[ns.ldp('Resource').uri]) return 'Sharing' // @@ be more sophisticated?\n    if (t[ns.ldp('Container').uri]) return 'Sharing' // @@ be more sophisticated?\n    if (t[ns.ldp('BasicContainer').uri]) return 'Sharing' // @@ be more sophisticated?\n    // check being allowed to see/change sharing?\n    return null // No under other circumstances\n  },\n\n  render: (subject, context) => {\n    const dom = context.dom\n    const store = context.session.store\n    const noun = getNoun()\n\n    const div = dom.createElement('div')\n    div.classList.add('sharingPane')\n    aclControl.preventBrowserDropEvents(dom)\n    div.appendChild(aclControl.ACLControlBox5(subject, context, noun, store))\n    return div\n\n    function getNoun () {\n      const t = store.findTypeURIs(subject)\n      if (t[ns.ldp('BasicContainer').uri] || t[ns.ldp('Container').uri]) {\n        return 'folder'\n      }\n      return 'file'\n    }\n  }\n}\n\nexport default sharingPane\n"],"mappings":";;;;;;AAUA,IAAAA,WAAA,GAAAC,OAAA;AAVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA,MAAMC,WAAW,GAAG;EAClBC,IAAI,EAAEC,iBAAK,CAACC,QAAQ,GAAG,mBAAmB;EAE1CC,IAAI,EAAE,SAAS;EAEfC,KAAK,EAAEA,CAACC,OAAO,EAAEC,OAAO,KAAK;IAC3B,MAAMC,KAAK,GAAGD,OAAO,CAACE,OAAO,CAACD,KAAK;IACnC,MAAME,CAAC,GAAGF,KAAK,CAACG,YAAY,CAACL,OAAO,CAAC;IACrC,IAAII,CAAC,CAACE,cAAE,CAACC,GAAG,CAAC,UAAU,CAAC,CAACC,GAAG,CAAC,EAAE,OAAO,SAAS,EAAC;IAChD,IAAIJ,CAAC,CAACE,cAAE,CAACC,GAAG,CAAC,WAAW,CAAC,CAACC,GAAG,CAAC,EAAE,OAAO,SAAS,EAAC;IACjD,IAAIJ,CAAC,CAACE,cAAE,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAACC,GAAG,CAAC,EAAE,OAAO,SAAS,EAAC;IACtD;IACA,OAAO,IAAI,EAAC;EACd,CAAC;EAEDC,MAAM,EAAEA,CAACT,OAAO,EAAEC,OAAO,KAAK;IAC5B,MAAMS,GAAG,GAAGT,OAAO,CAACS,GAAG;IACvB,MAAMR,KAAK,GAAGD,OAAO,CAACE,OAAO,CAACD,KAAK;IACnC,MAAMS,IAAI,GAAGC,OAAO,CAAC,CAAC;IAEtB,MAAMC,GAAG,GAAGH,GAAG,CAACI,aAAa,CAAC,KAAK,CAAC;IACpCD,GAAG,CAACE,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;IAChCC,sBAAU,CAACC,wBAAwB,CAACR,GAAG,CAAC;IACxCG,GAAG,CAACM,WAAW,CAACF,sBAAU,CAACG,cAAc,CAACpB,OAAO,EAAEC,OAAO,EAAEU,IAAI,EAAET,KAAK,CAAC,CAAC;IACzE,OAAOW,GAAG;IAEV,SAASD,OAAOA,CAAA,EAAI;MAClB,MAAMR,CAAC,GAAGF,KAAK,CAACG,YAAY,CAACL,OAAO,CAAC;MACrC,IAAII,CAAC,CAACE,cAAE,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAACC,GAAG,CAAC,IAAIJ,CAAC,CAACE,cAAE,CAACC,GAAG,CAAC,WAAW,CAAC,CAACC,GAAG,CAAC,EAAE;QACjE,OAAO,QAAQ;MACjB;MACA,OAAO,MAAM;IACf;EACF;AACF,CAAC;AAAA,IAAAa,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEc7B,WAAW","ignoreList":[]}