{"version":3,"file":"sharingPane.js","names":["aclControl","icons","ns","sharingPane","icon","iconBase","name","label","subject","context","store","session","t","findTypeURIs","ldp","uri","render","dom","noun","getNoun","div","createElement","classList","add","preventBrowserDropEvents","appendChild","ACLControlBox5"],"sources":["../../src/sharing/sharingPane.ts"],"sourcesContent":["/*   Sharing Pane\n **\n ** This outline pane allows a user to view and adjust the sharing -- access control lists\n ** for anything which has that capability.\n **\n ** I am using in places single quotes strings like 'this'\n ** where internationalization (\"i18n\") is not a problem, and double quoted\n ** like \"this\" where the string is seen by the user and so I18n is an issue.\n */\n\nimport { aclControl, icons, ns } from 'solid-ui-jss'\n\nconst sharingPane = {\n  icon: icons.iconBase + 'padlock-timbl.svg',\n\n  name: 'sharing',\n\n  label: (subject, context) => {\n    const store = context.session.store\n    const t = store.findTypeURIs(subject)\n    if (t[ns.ldp('Resource').uri]) return 'Sharing' // @@ be more sophisticated?\n    if (t[ns.ldp('Container').uri]) return 'Sharing' // @@ be more sophisticated?\n    if (t[ns.ldp('BasicContainer').uri]) return 'Sharing' // @@ be more sophisticated?\n    // check being allowed to see/change sharing?\n    return null // No under other circumstances\n  },\n\n  render: (subject, context) => {\n    const dom = context.dom\n    const store = context.session.store\n    const noun = getNoun()\n\n    const div = dom.createElement('div')\n    div.classList.add('sharingPane')\n    aclControl.preventBrowserDropEvents(dom)\n    div.appendChild(aclControl.ACLControlBox5(subject, context, noun, store))\n    return div\n\n    function getNoun () {\n      const t = store.findTypeURIs(subject)\n      if (t[ns.ldp('BasicContainer').uri] || t[ns.ldp('Container').uri]) {\n        return 'folder'\n      }\n      return 'file'\n    }\n  }\n}\n\nexport default sharingPane\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,UAAU,EAAEC,KAAK,EAAEC,EAAE,QAAQ,cAAc;AAEpD,MAAMC,WAAW,GAAG;EAClBC,IAAI,EAAEH,KAAK,CAACI,QAAQ,GAAG,mBAAmB;EAE1CC,IAAI,EAAE,SAAS;EAEfC,KAAK,EAAEA,CAACC,OAAO,EAAEC,OAAO,KAAK;IAC3B,MAAMC,KAAK,GAAGD,OAAO,CAACE,OAAO,CAACD,KAAK;IACnC,MAAME,CAAC,GAAGF,KAAK,CAACG,YAAY,CAACL,OAAO,CAAC;IACrC,IAAII,CAAC,CAACV,EAAE,CAACY,GAAG,CAAC,UAAU,CAAC,CAACC,GAAG,CAAC,EAAE,OAAO,SAAS,EAAC;IAChD,IAAIH,CAAC,CAACV,EAAE,CAACY,GAAG,CAAC,WAAW,CAAC,CAACC,GAAG,CAAC,EAAE,OAAO,SAAS,EAAC;IACjD,IAAIH,CAAC,CAACV,EAAE,CAACY,GAAG,CAAC,gBAAgB,CAAC,CAACC,GAAG,CAAC,EAAE,OAAO,SAAS,EAAC;IACtD;IACA,OAAO,IAAI,EAAC;EACd,CAAC;EAEDC,MAAM,EAAEA,CAACR,OAAO,EAAEC,OAAO,KAAK;IAC5B,MAAMQ,GAAG,GAAGR,OAAO,CAACQ,GAAG;IACvB,MAAMP,KAAK,GAAGD,OAAO,CAACE,OAAO,CAACD,KAAK;IACnC,MAAMQ,IAAI,GAAGC,OAAO,CAAC,CAAC;IAEtB,MAAMC,GAAG,GAAGH,GAAG,CAACI,aAAa,CAAC,KAAK,CAAC;IACpCD,GAAG,CAACE,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;IAChCvB,UAAU,CAACwB,wBAAwB,CAACP,GAAG,CAAC;IACxCG,GAAG,CAACK,WAAW,CAACzB,UAAU,CAAC0B,cAAc,CAAClB,OAAO,EAAEC,OAAO,EAAES,IAAI,EAAER,KAAK,CAAC,CAAC;IACzE,OAAOU,GAAG;IAEV,SAASD,OAAOA,CAAA,EAAI;MAClB,MAAMP,CAAC,GAAGF,KAAK,CAACG,YAAY,CAACL,OAAO,CAAC;MACrC,IAAII,CAAC,CAACV,EAAE,CAACY,GAAG,CAAC,gBAAgB,CAAC,CAACC,GAAG,CAAC,IAAIH,CAAC,CAACV,EAAE,CAACY,GAAG,CAAC,WAAW,CAAC,CAACC,GAAG,CAAC,EAAE;QACjE,OAAO,QAAQ;MACjB;MACA,OAAO,MAAM;IACf;EACF;AACF,CAAC;AAED,eAAeZ,WAAW","ignoreList":[]}