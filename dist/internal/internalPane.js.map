{"version":3,"file":"internalPane.js","names":["icons","ns","widgets","literal","st","sym","pane","icon","originalIconBase","name","label","render","subject","context","dom","store","session","canonizedSubject","canon","types","findTypeURIs","filter","pred","view","paneRegistry","byName","predicates","uri","div","createElement","setAttribute","deleteRecursive","kb","folder","fetcher","console","error","Promise","resolve","reject","load","then","promises","each","ldp","map","file","holds","rdf","log","webOperation","all","undefined","catch","err","str","Error","alert","isDocument","includes","controls","appendChild","style","width","margin","controlRow","deleteCell","isFolder","endsWith","noun","isProtectedUri","deleteButton","deleteButtonWithCheck","confirm","promise","class","refreshCell","refreshButton","button","iconBase","addEventListener","refresh","ok","errm","plist","statementsMatching","docURI","push","appNode","indexOf","split","updater","ed","editable","toString","outliner","getOutliner","appendPropertyTRs","classes","siteUri","site"],"sources":["../../src/internal/internalPane.ts"],"sourcesContent":["/*   Internal Pane\n **\n **  This outline pane contains the properties which are\n ** internal to the user's interaction with the web, and are not normally displayed\n */\n/* global alert confirm */\n\nimport { icons, ns, widgets } from 'solid-ui-jss'\nimport { BlankNode, IndexedFormula, literal, NamedNode, st, sym, Variable, Store } from 'rdflib'\nimport { PaneDefinition } from 'pane-registry'\n\nconst pane: PaneDefinition = {\n  icon: icons.originalIconBase + 'tango/22-emblem-system.png',\n\n  name: 'internal',\n\n  label: function () {\n    return 'under the hood' // There is often a URI even of no statements\n  },\n\n  render: function (subject, context) {\n    const dom = context.dom\n    const store = context.session.store as Store\n    const canonizedSubject = store.canon(subject) as BlankNode | NamedNode | Variable\n    const types = store.findTypeURIs(canonizedSubject)\n\n    function filter (pred: NamedNode) {\n      if (types['http://www.w3.org/2007/ont/link#ProtocolEvent']) return true // display everything for them\n      const view = context.session.paneRegistry.byName('internal')\n      return (\n        view &&\n        view.predicates &&\n        !!(typeof view.predicates[pred.uri] !== 'undefined')\n      )\n    }\n\n    const div = dom.createElement('div')\n    div.setAttribute('class', 'internalPane')\n    div.setAttribute(\n      'style',\n      'background-color: #ddddff; padding: 0.5em; border-radius: 1em;'\n    )\n\n    function deleteRecursive (kb: IndexedFormula, folder: NamedNode) {\n      const fetcher = (kb as any).fetcher\n      if (!fetcher) {\n        console.error('No fetcher available')\n        return\n      }\n      return new Promise(function (resolve, reject) {\n        fetcher.load(folder).then(function () {\n          const promises = kb.each(folder, ns.ldp('contains')).map(file => {\n            if (kb.holds(file, ns.rdf('type'), ns.ldp('BasicContainer'))) {\n              return deleteRecursive(kb, file as NamedNode)\n            } else {\n              console.log('deleteRecursive leaf file: ' + file)\n              return fetcher.webOperation('DELETE', (file as NamedNode).uri)\n            }\n          })\n          Promise.all(promises).then(\n            () => {\n              console.log('deleteRecursive empty folder: ' + folder)\n              fetcher\n                .webOperation('DELETE', folder.uri)\n                .then(() => {\n                  console.log('Deleted Ok: ' + folder)\n                  resolve(undefined)\n                })\n                .catch((err: string) => {\n                  const str = 'Unable to delete ' + folder + ': ' + err\n                  console.log(str)\n                  reject(new Error(str))\n                })\n              resolve(undefined)\n            },\n            err => {\n              alert(err)\n              reject(err)\n            }\n          )\n        })\n      })\n    }\n\n    const isDocument = subject.uri && !subject.uri.includes('#')\n    if (isDocument) {\n      const controls = div.appendChild(dom.createElement('table'))\n      controls.style.width = '100%'\n      controls.style.margin = '1em'\n      const controlRow = controls.appendChild(dom.createElement('tr'))\n\n      const deleteCell = controlRow.appendChild(dom.createElement('td'))\n      const isFolder =\n        (subject.uri && subject.uri.endsWith('/')) ||\n        store.holds(subject, ns.rdf('type'), ns.ldp('Container'))\n      const noun = isFolder ? 'folder' : 'file'\n      if (!isProtectedUri(subject)) {\n        console.log(subject)\n        const deleteButton = widgets.deleteButtonWithCheck(\n          dom,\n          deleteCell,\n          noun,\n          function () {\n            if (\n              !confirm(\n                `Are you sure you want to delete ${subject}? This cannot be undone.`\n              )\n            ) {\n              return\n            }\n            // @@ TODO Remove casing of store.fetcher\n            if (!store.fetcher) {\n              throw new Error('Store has no fetcher')\n            }\n            const promise = isFolder\n              ? (deleteRecursive(store, subject) || Promise.resolve())\n              : store.fetcher.webOperation('DELETE', subject.uri) || Promise.resolve()\n            promise\n              .then(() => {\n                const str = 'Deleted: ' + subject\n                console.log(str)\n              })\n              .catch((err: any) => {\n                const str = 'Unable to delete ' + subject + ': ' + err\n                console.log(str)\n                alert(str)\n              })\n          }\n        )\n        deleteButton.style = 'height: 2em;'\n        deleteButton.class = '' // Remove hover hide\n        deleteCell.appendChild(deleteButton)\n      }\n\n      const refreshCell = controlRow.appendChild(dom.createElement('td'))\n      const refreshButton = widgets.button(\n        dom,\n        icons.iconBase + 'noun_479395.svg',\n        'refresh'\n      )\n      refreshCell.appendChild(refreshButton)\n      refreshButton.addEventListener('click', () => {\n        if (!store.fetcher) {\n          throw new Error('Store has no fetcher')\n        }\n        store.fetcher.refresh(subject, function (\n          ok,\n          errm\n        ) {\n          let str\n          if (ok) {\n            str = 'Refreshed OK: ' + subject\n          } else {\n            str = 'Error refreshing: ' + subject + ': ' + errm\n          }\n          console.log(str)\n          alert(str)\n        })\n      })\n    }\n\n    let plist = store.statementsMatching(subject)\n    let docURI = ''\n    if (!store.fetcher) {\n      throw new Error('Store has no fetcher')\n    }\n\n    if (subject.uri) {\n      plist.push(\n        st(\n          subject,\n          sym('http://www.w3.org/2007/ont/link#uri'),\n          subject.uri as any, // @@ TODO Remove casting\n          store.fetcher.appNode\n        )\n      )\n      if (subject.uri.indexOf('#') >= 0) {\n        docURI = subject.uri.split('#')[0]\n        plist.push(\n          st(\n            subject,\n            sym('http://www.w3.org/2007/ont/link#documentURI'),\n            subject.uri.split('#')[0] as any, // @@ TODO Remove casting\n            store.fetcher.appNode\n          )\n        )\n        plist.push(\n          st(\n            subject,\n            sym('http://www.w3.org/2007/ont/link#document'),\n            sym(subject.uri.split('#')[0]),\n            store.fetcher.appNode\n          )\n        )\n      } else {\n        docURI = subject.uri\n      }\n    }\n    if (docURI) {\n      if (!store.updater) {\n        throw new Error('Store has no updater')\n      }\n\n      const ed = store.updater.editable(docURI)\n      if (ed) {\n        plist.push(\n          st(\n            subject,\n            sym('http://www.w3.org/ns/rww#editable'),\n            literal(ed.toString()),\n            store.fetcher.appNode\n          )\n        )\n      }\n    }\n    // @@ TODO get a proper type\n    const outliner: any = context.getOutliner(dom)\n    outliner.appendPropertyTRs(div, plist, false, filter)\n    plist = store.statementsMatching(undefined, undefined, subject)\n    outliner.appendPropertyTRs(div, plist, true, filter)\n    return div\n  },\n\n  predicates: {\n    // Predicates used for inner workings. Under the hood\n    'http://www.w3.org/2007/ont/link#request': 1,\n    'http://www.w3.org/2007/ont/link#requestedBy': 1,\n    'http://www.w3.org/2007/ont/link#source': 1,\n    'http://www.w3.org/2007/ont/link#session': 2, // 2=  test neg but display\n    'http://www.w3.org/2007/ont/link#uri': 1,\n    'http://www.w3.org/2007/ont/link#documentURI': 1,\n    'http://www.w3.org/2007/ont/link#document': 1,\n    'http://www.w3.org/2007/ont/link#all': 1, // From userinput.js\n    'http://www.w3.org/2007/ont/link#Document': 1,\n    'http://www.w3.org/ns/rww#editable': 1,\n    'http://www.w3.org/2000/01/rdf-schema#seeAlso': 1,\n    'http://www.w3.org/2002/07/owl#': 1\n  },\n\n  classes: {\n    // Things which are inherently already undercover\n    'http://www.w3.org/2007/ont/link#ProtocolEvent': 1\n  }\n}\n\nfunction isProtectedUri (subject: NamedNode): boolean {\n  // TODO: Could make the code below smarter by removing some of the redundancy by creating a recursive function, but did not bother now\n  const siteUri = subject.site().uri\n  return (\n    subject.uri === siteUri ||\n    subject.uri === siteUri + 'profile/' ||\n    subject.uri === siteUri + 'profile/card' ||\n    subject.uri === siteUri + 'settings/' ||\n    subject.uri === siteUri + 'settings/prefs.ttl' ||\n    subject.uri === siteUri + 'settings/privateTypeIndex.ttl' ||\n    subject.uri === siteUri + 'settings/publicTypeIndex.ttl' ||\n    subject.uri === siteUri + 'settings/serverSide.ttl'\n  )\n}\n\nexport default pane\n\n// ends\n"],"mappings":"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","ignoreList":[]}