{"version":3,"file":"tabbedPane.js","names":["_solidUiJss","require","TabbedPane","icon","icons","iconBase","name","audience","ns","solid","label","subject","context","kb","session","store","typeURIs","findTypeURIs","meeting","uri","render","dom","div","createElement","fetcher","Error","load","appendChild","tabs","tabWidget","predicate","any","ordered","orientation","anyValue","renderMain","containerDiv","item","innerHTML","table","getOutliner","GotoSubject","undefined","renderTab","the","widgets","personTR","backgroundColor","ui","_default","exports","default"],"sources":["../../src/tabbed/tabbedPane.ts"],"sourcesContent":["/*   Tabbed view of anything\n **\n ** data-driven\n **\n */\nimport { Store } from 'rdflib'\nimport { PaneDefinition } from 'pane-registry'\nimport { icons, ns, tabs, widgets } from 'solid-ui-jss'\n\nconst TabbedPane: PaneDefinition = {\n  icon: icons.iconBase + 'noun_688606.svg',\n\n  name: 'tabbed',\n\n  audience: [ns.solid('PowerUser')],\n\n  // Does the subject deserve this pane?\n  label: (subject, context) => {\n    const kb = context.session.store as Store\n    const typeURIs = kb.findTypeURIs(subject)\n    if (ns.meeting('Cluster').uri in typeURIs) {\n      return 'Tabbed'\n    }\n    return null\n  },\n\n  render: (subject, context) => {\n    const dom = context.dom\n    const store = context.session.store as Store\n    const div = dom.createElement('div')\n\n    ;(async () => {\n      if (!store.fetcher) {\n        throw new Error('Store has no fetcher')\n      }\n      await store.fetcher.load(subject)\n\n      div.appendChild(tabs.tabWidget({\n        dom,\n        subject,\n        predicate: store.any(subject, ns.meeting('predicate')) || ns.meeting('toolList'),\n        ordered: true,\n        orientation: ((store as Store).anyValue(subject, ns.meeting('orientation')) || '0') as ('0' | '1' | '2' | '3'),\n        renderMain: (containerDiv, item) => {\n          containerDiv.innerHTML = ''\n          const table = containerDiv.appendChild(context.dom.createElement('table'))\n          ;(context.getOutliner(context.dom) as any).GotoSubject(item, true, null, false, undefined, table)\n        },\n        renderTab: (containerDiv, item) => {\n          const predicate = store.the(subject, ns.meeting('predicate'))\n          containerDiv.appendChild(widgets.personTR(context.dom, predicate, item, {}))\n        },\n        backgroundColor: store.anyValue(subject, ns.ui('backgroundColor')) || '#ddddcc'\n      }))\n    })()\n    return div\n  }\n}\n\nexport default TabbedPane\n"],"mappings":";;;;;;AAOA,IAAAA,WAAA,GAAAC,OAAA;AAPA;AACA;AACA;AACA;AACA;;AAKA,MAAMC,UAA0B,GAAG;EACjCC,IAAI,EAAEC,iBAAK,CAACC,QAAQ,GAAG,iBAAiB;EAExCC,IAAI,EAAE,QAAQ;EAEdC,QAAQ,EAAE,CAACC,cAAE,CAACC,KAAK,CAAC,WAAW,CAAC,CAAC;EAEjC;EACAC,KAAK,EAAEA,CAACC,OAAO,EAAEC,OAAO,KAAK;IAC3B,MAAMC,EAAE,GAAGD,OAAO,CAACE,OAAO,CAACC,KAAc;IACzC,MAAMC,QAAQ,GAAGH,EAAE,CAACI,YAAY,CAACN,OAAO,CAAC;IACzC,IAAIH,cAAE,CAACU,OAAO,CAAC,SAAS,CAAC,CAACC,GAAG,IAAIH,QAAQ,EAAE;MACzC,OAAO,QAAQ;IACjB;IACA,OAAO,IAAI;EACb,CAAC;EAEDI,MAAM,EAAEA,CAACT,OAAO,EAAEC,OAAO,KAAK;IAC5B,MAAMS,GAAG,GAAGT,OAAO,CAACS,GAAG;IACvB,MAAMN,KAAK,GAAGH,OAAO,CAACE,OAAO,CAACC,KAAc;IAC5C,MAAMO,GAAG,GAAGD,GAAG,CAACE,aAAa,CAAC,KAAK,CAAC;IAEnC,CAAC,YAAY;MACZ,IAAI,CAACR,KAAK,CAACS,OAAO,EAAE;QAClB,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACzC;MACA,MAAMV,KAAK,CAACS,OAAO,CAACE,IAAI,CAACf,OAAO,CAAC;MAEjCW,GAAG,CAACK,WAAW,CAACC,gBAAI,CAACC,SAAS,CAAC;QAC7BR,GAAG;QACHV,OAAO;QACPmB,SAAS,EAAEf,KAAK,CAACgB,GAAG,CAACpB,OAAO,EAAEH,cAAE,CAACU,OAAO,CAAC,WAAW,CAAC,CAAC,IAAIV,cAAE,CAACU,OAAO,CAAC,UAAU,CAAC;QAChFc,OAAO,EAAE,IAAI;QACbC,WAAW,EAAIlB,KAAK,CAAWmB,QAAQ,CAACvB,OAAO,EAAEH,cAAE,CAACU,OAAO,CAAC,aAAa,CAAC,CAAC,IAAI,GAA+B;QAC9GiB,UAAU,EAAEA,CAACC,YAAY,EAAEC,IAAI,KAAK;UAClCD,YAAY,CAACE,SAAS,GAAG,EAAE;UAC3B,MAAMC,KAAK,GAAGH,YAAY,CAACT,WAAW,CAACf,OAAO,CAACS,GAAG,CAACE,aAAa,CAAC,OAAO,CAAC,CAAC;UACxEX,OAAO,CAAC4B,WAAW,CAAC5B,OAAO,CAACS,GAAG,CAAC,CAASoB,WAAW,CAACJ,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAEK,SAAS,EAAEH,KAAK,CAAC;QACnG,CAAC;QACDI,SAAS,EAAEA,CAACP,YAAY,EAAEC,IAAI,KAAK;UACjC,MAAMP,SAAS,GAAGf,KAAK,CAAC6B,GAAG,CAACjC,OAAO,EAAEH,cAAE,CAACU,OAAO,CAAC,WAAW,CAAC,CAAC;UAC7DkB,YAAY,CAACT,WAAW,CAACkB,mBAAO,CAACC,QAAQ,CAAClC,OAAO,CAACS,GAAG,EAAES,SAAS,EAAEO,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QAC9E,CAAC;QACDU,eAAe,EAAEhC,KAAK,CAACmB,QAAQ,CAACvB,OAAO,EAAEH,cAAE,CAACwC,EAAE,CAAC,iBAAiB,CAAC,CAAC,IAAI;MACxE,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,CAAC;IACJ,OAAO1B,GAAG;EACZ;AACF,CAAC;AAAA,IAAA2B,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEcjD,UAAU","ignoreList":[]}