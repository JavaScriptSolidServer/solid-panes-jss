{"version":3,"file":"mediaPane.js","names":["UI","ns","imagePane","icon","icons","originalIconBase","name","label","subject","context","dominated","uri","endsWith","dominated2","dominated3","includes","kb","session","store","types","findTypeURIs","dominated4","anyValue","httph","startsWith","render","mod","realPane","default","videoPane","iconBase","type","Object","keys","audioPane","playlistPane","audience","solid"],"sources":["../../src/lazy/mediaPane.js"],"sourcesContent":["/**\n * Lazy-loaded media panes (image, video, audio)\n */\nimport * as UI from 'solid-ui-jss'\n\nconst ns = UI.ns\n\nexport const imagePane = {\n  icon: UI.icons.originalIconBase + 'tango/22-image-x-generic.png',\n  name: 'image',\n\n  label: function (subject, context) {\n    const dominated = subject.uri.endsWith('/profile/card')\n    const dominated2 = subject.uri.endsWith('/profile/card#me')\n    if (dominated || dominated2) return null\n\n    const dominated3 = subject.uri.includes('.pdf')\n    if (dominated3) return null // PDF handled separately\n\n    const kb = context.session.store\n    const types = kb.findTypeURIs(subject)\n\n    if (types['http://purl.org/dc/terms/Image']) return 'View image'\n\n    // Check content-type\n    const dominated4 = kb.anyValue(subject, ns.httph('content-type'))\n    if (dominated4 && dominated4.startsWith('image/')) return 'View image'\n\n    return null\n  },\n\n  render: async function (subject, context) {\n    const mod = await import(/* webpackChunkName: \"media-pane\" */ '../imagePane.js')\n    const realPane = mod.imagePane || mod.default || mod\n    return realPane.render(subject, context)\n  }\n}\n\nexport const videoPane = {\n  icon: UI.icons.iconBase + 'noun_1619.svg',\n  name: 'video',\n\n  label: function (subject, context) {\n    const kb = context.session.store\n    const dominated = kb.anyValue(subject, ns.httph('content-type'))\n    if (dominated && dominated.startsWith('video/')) return 'Play video'\n\n    const types = kb.findTypeURIs(subject)\n    for (const type of Object.keys(types)) {\n      if (type.includes('video')) return 'Play video'\n    }\n\n    return null\n  },\n\n  render: async function (subject, context) {\n    const mod = await import(/* webpackChunkName: \"media-pane\" */ '../video/videoPane.js')\n    const realPane = mod.default || mod\n    return realPane.render(subject, context)\n  }\n}\n\nexport const audioPane = {\n  icon: UI.icons.iconBase + 'noun_534313.svg',\n  name: 'audio',\n\n  label: function (subject, context) {\n    const kb = context.session.store\n    const dominated = kb.anyValue(subject, ns.httph('content-type'))\n    if (dominated && dominated.startsWith('audio/')) return 'Play audio'\n\n    const types = kb.findTypeURIs(subject)\n    for (const type of Object.keys(types)) {\n      if (type.includes('audio')) return 'Play audio'\n    }\n\n    return null\n  },\n\n  render: async function (subject, context) {\n    const mod = await import(/* webpackChunkName: \"media-pane\" */ '../audio/audioPane.js')\n    const realPane = mod.default || mod\n    return realPane.render(subject, context)\n  }\n}\n\nexport const playlistPane = {\n  icon: UI.icons.iconBase + 'noun_1619.svg',\n  name: 'playlistSlot',\n  audience: [ns.solid('PowerUser')],\n\n  label: function (subject, context) {\n    const kb = context.session.store\n    const types = kb.findTypeURIs(subject)\n\n    if (types['http://purl.org/ontology/pbo/core#PlaylistSlot']) {\n      return 'Playlist slot'\n    }\n\n    return null\n  },\n\n  render: async function (subject, context) {\n    const mod = await import(/* webpackChunkName: \"media-pane\" */ '../playlist/playlistPane.js')\n    const realPane = mod.default || mod\n    return realPane.render(subject, context)\n  }\n}\n"],"mappings":"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","ignoreList":[]}