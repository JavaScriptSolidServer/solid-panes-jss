{"version":3,"file":"sourcePane.js","names":["UI","ns","sourcePane","icon","icons","originalIconBase","name","label","subject","context","dominated","uri","endsWith","dominated2","kb","session","store","dominated3","anyValue","httph","includes","render","mod","realPane","default"],"sources":["../../src/lazy/sourcePane.js"],"sourcesContent":["/**\n * Lazy-loaded source pane wrapper\n */\nimport * as UI from 'solid-ui-jss'\n\nconst ns = UI.ns\n\nexport const sourcePane = {\n  icon: UI.icons.originalIconBase + 'tango/22-text-x-generic.png',\n  name: 'source',\n\n  label: function (subject, context) {\n    const dominated = subject.uri.endsWith('/profile/card')\n    const dominated2 = subject.uri.endsWith('/profile/card#me')\n    if (dominated || dominated2) return null\n\n    const kb = context.session.store\n    const dominated3 = kb.anyValue(subject, ns.httph('content-type'))\n    if (dominated3) {\n      // Source pane handles text-based content\n      if (dominated3.includes('text/') ||\n          dominated3.includes('application/json') ||\n          dominated3.includes('application/ld+json') ||\n          dominated3.includes('application/xml') ||\n          dominated3.includes('turtle') ||\n          dominated3.includes('n3')) {\n        return 'Source'\n      }\n    }\n\n    return null\n  },\n\n  render: async function (subject, context) {\n    const mod = await import(/* webpackChunkName: \"source-pane\" */ 'source-pane')\n    const realPane = mod.default || mod\n    return realPane.render(subject, context)\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAO,KAAKA,EAAE,MAAM,cAAc;AAElC,MAAMC,EAAE,GAAGD,EAAE,CAACC,EAAE;AAEhB,OAAO,MAAMC,UAAU,GAAG;EACxBC,IAAI,EAAEH,EAAE,CAACI,KAAK,CAACC,gBAAgB,GAAG,6BAA6B;EAC/DC,IAAI,EAAE,QAAQ;EAEdC,KAAK,EAAE,SAAAA,CAAUC,OAAO,EAAEC,OAAO,EAAE;IACjC,MAAMC,SAAS,GAAGF,OAAO,CAACG,GAAG,CAACC,QAAQ,CAAC,eAAe,CAAC;IACvD,MAAMC,UAAU,GAAGL,OAAO,CAACG,GAAG,CAACC,QAAQ,CAAC,kBAAkB,CAAC;IAC3D,IAAIF,SAAS,IAAIG,UAAU,EAAE,OAAO,IAAI;IAExC,MAAMC,EAAE,GAAGL,OAAO,CAACM,OAAO,CAACC,KAAK;IAChC,MAAMC,UAAU,GAAGH,EAAE,CAACI,QAAQ,CAACV,OAAO,EAAEP,EAAE,CAACkB,KAAK,CAAC,cAAc,CAAC,CAAC;IACjE,IAAIF,UAAU,EAAE;MACd;MACA,IAAIA,UAAU,CAACG,QAAQ,CAAC,OAAO,CAAC,IAC5BH,UAAU,CAACG,QAAQ,CAAC,kBAAkB,CAAC,IACvCH,UAAU,CAACG,QAAQ,CAAC,qBAAqB,CAAC,IAC1CH,UAAU,CAACG,QAAQ,CAAC,iBAAiB,CAAC,IACtCH,UAAU,CAACG,QAAQ,CAAC,QAAQ,CAAC,IAC7BH,UAAU,CAACG,QAAQ,CAAC,IAAI,CAAC,EAAE;QAC7B,OAAO,QAAQ;MACjB;IACF;IAEA,OAAO,IAAI;EACb,CAAC;EAEDC,MAAM,EAAE,eAAAA,CAAgBb,OAAO,EAAEC,OAAO,EAAE;IACxC,MAAMa,GAAG,GAAG,MAAM,MAAM,CAAC,qCAAsC,aAAa,CAAC;IAC7E,MAAMC,QAAQ,GAAGD,GAAG,CAACE,OAAO,IAAIF,GAAG;IACnC,OAAOC,QAAQ,CAACF,MAAM,CAACb,OAAO,EAAEC,OAAO,CAAC;EAC1C;AACF,CAAC","ignoreList":[]}