{"version":3,"file":"dokieliPane.js","names":["UI","ns","dokieliPane","icon","icons","iconBase","name","label","subject","context","kb","session","store","types","findTypeURIs","link","uri","contentType","anyValue","httph","includes","render","mod","realPane","default","mintClass","solid"],"sources":["../../src/lazy/dokieliPane.js"],"sourcesContent":["/**\n * Lazy-loaded dokieli pane wrapper\n */\nimport * as UI from 'solid-ui-jss'\n\nconst ns = UI.ns\n\nexport const dokieliPane = {\n  icon: UI.icons.iconBase + 'dokieli-logo.png',\n  name: 'Dokieli',\n\n  label: function (subject, context) {\n    const kb = context.session.store\n    const types = kb.findTypeURIs(subject)\n\n    if (types[ns.link('WebPage').uri]) return 'view'\n\n    // Check content-type\n    const contentType = kb.anyValue(subject, ns.httph('content-type'))\n    if (contentType) {\n      if (contentType.includes('text/html') || contentType.includes('application/xhtml+xml')) {\n        return 'Dok'\n      }\n    }\n\n    return null\n  },\n\n  render: async function (subject, context) {\n    const mod = await import(/* webpackChunkName: \"dokieli-pane\" */ '../dokieli/dokieliPane.js')\n    const realPane = mod.default || mod\n    return realPane.render(subject, context)\n  },\n\n  mintClass: ns.solid('DokieliDocument')\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,OAAO,KAAKA,EAAE,MAAM,cAAc;AAElC,MAAMC,EAAE,GAAGD,EAAE,CAACC,EAAE;AAEhB,OAAO,MAAMC,WAAW,GAAG;EACzBC,IAAI,EAAEH,EAAE,CAACI,KAAK,CAACC,QAAQ,GAAG,kBAAkB;EAC5CC,IAAI,EAAE,SAAS;EAEfC,KAAK,EAAE,SAAAA,CAAUC,OAAO,EAAEC,OAAO,EAAE;IACjC,MAAMC,EAAE,GAAGD,OAAO,CAACE,OAAO,CAACC,KAAK;IAChC,MAAMC,KAAK,GAAGH,EAAE,CAACI,YAAY,CAACN,OAAO,CAAC;IAEtC,IAAIK,KAAK,CAACZ,EAAE,CAACc,IAAI,CAAC,SAAS,CAAC,CAACC,GAAG,CAAC,EAAE,OAAO,MAAM;;IAEhD;IACA,MAAMC,WAAW,GAAGP,EAAE,CAACQ,QAAQ,CAACV,OAAO,EAAEP,EAAE,CAACkB,KAAK,CAAC,cAAc,CAAC,CAAC;IAClE,IAAIF,WAAW,EAAE;MACf,IAAIA,WAAW,CAACG,QAAQ,CAAC,WAAW,CAAC,IAAIH,WAAW,CAACG,QAAQ,CAAC,uBAAuB,CAAC,EAAE;QACtF,OAAO,KAAK;MACd;IACF;IAEA,OAAO,IAAI;EACb,CAAC;EAEDC,MAAM,EAAE,eAAAA,CAAgBb,OAAO,EAAEC,OAAO,EAAE;IACxC,MAAMa,GAAG,GAAG,MAAM,MAAM,CAAC,sCAAuC,2BAA2B,CAAC;IAC5F,MAAMC,QAAQ,GAAGD,GAAG,CAACE,OAAO,IAAIF,GAAG;IACnC,OAAOC,QAAQ,CAACF,MAAM,CAACb,OAAO,EAAEC,OAAO,CAAC;EAC1C,CAAC;EAEDgB,SAAS,EAAExB,EAAE,CAACyB,KAAK,CAAC,iBAAiB;AACvC,CAAC","ignoreList":[]}